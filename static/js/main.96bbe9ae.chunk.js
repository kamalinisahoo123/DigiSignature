(this["webpackJsonpwhiteboard-app"]=this["webpackJsonpwhiteboard-app"]||[]).push([[0],{13:function(e,t,n){},14:function(e,t,n){},17:function(e,t,n){"use strict";n.r(t);var c=n(3),i=n.n(c),a=n(8),o=n.n(a),r=(n(13),n(0)),l=n(1),s=(n(14),n(2));function u(e){var t=e.setToolType;return Object(s.jsx)("div",{children:Object(s.jsx)("div",{className:"row",children:Object(s.jsx)("div",{className:"col-md-12",children:Object(s.jsxs)("div",{children:[Object(s.jsx)("button",{title:"Pencil",onClick:function(){t("pencil")},children:"Pencil"}),Object(s.jsx)("button",{title:"Line",onClick:function(){t("line")},children:"Line"})]})})})})}var d=n(7),j=d.a.generator();function v(e,t,n,c,i){return{id:e,x1:t,y1:n,x2:c,y2:i,roughEle:j.line(t,n,c,i)}}var b=function(e,t){return{x:e.x+(t.x-e.x)/2,y:e.y+(t.y-e.y)/2}};var h=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),n=t[0],i=t[1],a=Object(c.useState)(!1),o=Object(l.a)(a,2),j=o[0],h=o[1],f=Object(c.useState)([]),g=Object(l.a)(f,2),x=g[0],O=g[1],y=Object(c.useState)([]),p=Object(l.a)(y,2),w=p[0],m=p[1],C=Object(c.useState)("none"),E=Object(l.a)(C,2),T=E[0],k=E[1],S=Object(c.useState)("pencil"),P=Object(l.a)(S,2),X=P[0],Y=P[1],B=Object(c.useState)(null),I=Object(l.a)(B,2),M=I[0],F=I[1];Object(c.useEffect)((function(){var e=document.getElementById("canvas"),t=e.getContext("2d");t.lineCap="round",t.lineJoin="round",t.save();var c=d.a.canvas(e);return void 0!==w&&w.forEach((function(e,n){t.beginPath(),e.forEach((function(e,n){var c=b(e.clientX,e.clientY);t.quadraticCurveTo(e.clientX,e.clientY,c.x,c.y),t.lineTo(e.clientX,e.clientY),t.stroke()})),t.closePath(),t.save()})),n.forEach((function(e){var n=e.roughEle;t.globalAlpha="1",c.draw(n)})),function(){t.clearRect(0,0,e.width,e.height)}}),[n,w]);var L=function(e,t,c,a,o,l){var s=v(e,t,c,a,o),u=Object(r.a)(n);u[e]=s,i(u)};return Object(s.jsxs)("div",{children:[Object(s.jsx)("div",{children:Object(s.jsx)(u,{setToolType:Y})}),Object(s.jsx)("canvas",{id:"canvas",className:"App",width:window.innerWidth,height:window.innerHeight,onMouseDown:function(e){console.log(X);var t=e.clientX,c=e.clientY,a=document.getElementById("canvas").getContext("2d"),o=n.length;if("pencil"===X){k("sketching"),h(!0);var l={clientX:t,clientY:c,transparency:"1.0"};O((function(e){return[].concat(Object(r.a)(e),[l])})),a.lineCap=5,a.moveTo(t,c),a.beginPath()}else{k("drawing");var s=v(o,t,c,t,c);i((function(e){return[].concat(Object(r.a)(e),[s])})),F(s),console.log(n)}},onMouseMove:function(e){var t=document.getElementById("canvas").getContext("2d"),c=e.clientX,i=e.clientY;if("sketching"===T){if(!j)return;var a={clientX:c,clientY:i,transparency:x[x.length-1].transparency};O((function(e){return[].concat(Object(r.a)(e),[a])}));var o=b(c,i);t.quadraticCurveTo(c,i,o.x,o.y),t.lineTo(c,i),t.stroke()}else if("drawing"===T){var l=n.length-1,s=n[l],u=s.x1,d=s.y1;L(l,u,d,c,i)}},onMouseUp:function(){if("drawing"===T){var e=M.id,t=n[e],c=t.id,i=(t.type,t.strokeWidth,function(e){e.type;var t=e.x1,n=e.y1,c=e.x2,i=e.y2;return t<c||t===c&&n<i?{x1:t,y1:n,x2:c,y2:i}:{x1:c,y1:i,x2:t,y2:n}}(n[e])),a=i.x1,o=i.y1,l=i.x2,s=i.y2;L(c,a,o,l,s,0)}else if("sketching"===T){document.getElementById("canvas").getContext("2d").closePath();var u=x;O([]),m((function(e){return[].concat(Object(r.a)(e),[u])})),h(!1)}k("none")},children:"Canvas"})]})},f=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,18)).then((function(t){var n=t.getCLS,c=t.getFID,i=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),i(e),a(e),o(e)}))};n(16);o.a.render(Object(s.jsx)(i.a.StrictMode,{children:Object(s.jsx)(h,{})}),document.getElementById("root")),f()}},[[17,1,2]]]);
//# sourceMappingURL=main.96bbe9ae.chunk.js.map